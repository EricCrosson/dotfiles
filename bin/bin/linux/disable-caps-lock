#!/usr/bin/env python
# Eric Crosson
# 2015-08-31
#
# This script disables an active caps lock.
#
# Thanks to http://askubuntu.com/a/80301

import sys
from ctypes import *


def disable_caps_lock():
    """Disable an active caps lock."""
    X11 = cdll.LoadLibrary('libX11.so.6')
    display = X11.XOpenDisplay(None)
    X11.XkbLockModifiers(display, c_uint(0x0100), c_uint(2), c_uint(0))
    X11.XCloseDisplay(display)


# TODO: accept --help
if __name__ == '__main__':
    sys.exit(disable_caps_lock())
