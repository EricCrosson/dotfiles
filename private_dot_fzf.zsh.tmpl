{{ if (eq .chezmoi.os "linux") -}}

# Setup fzf
# ---------
prefix="$(brew --prefix fzf)"
if [[ ! "$PATH" == "${prefix}/bin" ]]; then
  export PATH="${PATH:+${PATH}:}${prefix}/bin"
fi

# Auto-completion
# ---------------
[[ $- == *i* ]] && source "${prefix}/shell/completion.zsh" 2> /dev/null

# Key bindings
# ------------
source "${prefix}/shell/key-bindings.zsh"

{{ else if eq .chezmoi.os "darwin" -}}

# From https://nixos.wiki/wiki/Fzf
if [ -n "${commands[fzf-share]}" ]; then
  source "$(fzf-share)/key-bindings.zsh"
  source "$(fzf-share)/completion.zsh"
fi

{{ end -}}
