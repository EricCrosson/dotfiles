#!/usr/bin/env python
# Written by Eric Crosson
# 2015-09-07

"""Generate tags for c/cpp files."""

import os
import sys
import argparse
from subprocess import call


def tags_generate(directory):
    print("Using directory %s" % directory)
    command = 'find %s -regex ".*\.[cChH]\(pp\)?" -print | etags -' % directory
    return call(command.split())


if __name__ == '__main__':
    print(sys.argv)
    args, unknown = argparse. \
                    ArgumentParser(description='Generate tags for c/cpp files')\
                    .parse_known_args()
    sys.exit(tags_generate(unknown if unknown else os.getcwd()))
